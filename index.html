<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
    <link rel="stylesheet" href="/public/style.css">
  <title>Frontend Mentor | Intro component with sign up form</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
  <style>

  </style>
</head>
<body>

  <div class="wrapper">
  <div class="learnTocode">
    <h1>Learn to code by watching others</h1>

     <p>See how experienced developers solve problems in real-time. Watching scripted tutorials is great, 
      but understanding how developers think is invaluable. </p>
  </div>
  
  <div class="try">
  <div class="titleTry">
    <p><span>Try it free 7 days</span> then $20/mo. thereafter</p>
  </div>
  
   <form >
    <div>
      <input type="text" name="firstName"  placeholder="First Name">
      <img src="./images/icon-error.svg" alt="icon_error">
    </div>
    <div class="error errorFirstname">
      <p></p>
    </div>

    <div>
      <input type="text" name="lastName"  placeholder="Last Name">
      <img src="./images/icon-error.svg" alt="icon_error">
    </div>
    <div class="error errorLastName">
      <p></p>
    </div>


     <div>
      <input type="text" name="emailAddress" placeholder="Email Address">
      <img src="./images/icon-error.svg" alt="icon_error">
     </div>
     <div class="error errorEmailAddress">
      <p></p>
    </div>
     
    <div>
      <input type="password" name="password"  placeholder="Password">
      <img src="./images/icon-error.svg" alt="icon_error">
    </div>
    <div class="error errorPassword">
      <p></p>
    </div>
  
    <button>Claim your free trial </button>
  
    <p class="clicking">By clicking the button, you are agreeing to our <a>Terms and Services</a></p>
   </form>
  </div>
  </div>
  
  <footer>
    <p class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
      Coded by <a>Denis Munoz</a>.
    </p>
  </footer>

  <script>
    const form = document.querySelector('form');

    const empty = (target, firstNameError, img, msg) => {
        if(target.value === "") {
          firstNameError.innerHTML = msg
          img.style.display = 'block'
          target.placeholder = ''
          target.classList.add('active')

        }
    }
    form.addEventListener('submit',(e)=> {
      e.preventDefault()

      const {firstName,lastName,emailAddress,password} = form;

      const firstNameError = document.querySelector('.errorFirstname')
      const lastNameError = document.querySelector('.errorLastName')
      const errorEmailAddress = document.querySelector('.errorEmailAddress')
      const errorPassword = document.querySelector('.errorPassword')
      const img = document.querySelectorAll('form div img')

      let regexEmail = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;

      if(!emailAddress.value.match(regexEmail) ) {
        errorEmailAddress.innerHTML = 'Looks like this is not an email'
        img[2].style.display = 'block'
        emailAddress.classList.add('active')
      } 

      empty(firstName, firstNameError, img[0], 'First Name cannot be empty')
      empty(lastName, lastNameError, img[1], 'Last Name cannot be empty')
      empty(password, errorPassword, img[3], 'Password cannot be empty')
      empty(emailAddress, errorEmailAddress, img[2], 'Email Addres cannot be empty')
    })
  </script>
</body>
</html>